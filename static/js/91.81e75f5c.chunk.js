(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1166:function(e,n,a){"use strict";a.r(n);var t=a(42),i=a(125),u=a(0),r=a.n(u),l=a(73),m=a(76),o=a(90),c=a(159),s=a(14),d=a.n(s),v=a(337),b=a.n(v),_=a(975),p=a.n(_),f=a(65),g=a.n(f),y=a(1039),j=a(987),h=a(988),E=a(95),S=a(984),V=a(12),k=a(336),q=a(981),O=a(334),w=a(1069),F=a(1073),x=y.a.TabPane;n.default=Object(c.a)(Object(o.c)("main"))(function(e){var n=e.t,a=e.match,o=e.location,c=e.history,s=Object(l.d)(function(e){return e.system}),v=Object(u.useState)(s.language),_=Object(i.a)(v,2),f=_[0],z=_[1],A=Object(u.useState)(!0),K=Object(i.a)(A,2),C=K[0],J=(K[1],p.a.parse(o.search).lang),N=a.params.id;Object(u.useEffect)(function(){z(J)},[N,J]);var T=function(e){e.isSubmitting;var a=e.setFieldValue,t=e.values,i=e.isFetched,u=e.forms;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{values:t,setFieldValue:a,isFetched:i,forms:u,lang:f}),C&&r.a.createElement(F.a,{values:t,setFieldValue:a,isFetched:i,forms:u}),r.a.createElement(O.f,null,r.a.createElement(j.a,{gutter:24,type:"flex"},r.a.createElement(h.a,{lg:8},r.a.createElement(E.a,{className:"fs-14 fw-500",htmlType:"submit",type:"primary"},n("\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))))))},B=g()(J,f);return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.d,{breadcrumbs:[{title:n("\u041e\u0431\u044a\u0435\u043a\u0442\u044b"),link:"/new/objects"},{title:n("\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442")}]}),r.a.createElement(S.a,{title:n("\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442"),extra:[r.a.createElement(m.a,{key:"1",to:"/new/object/create?lang=".concat(J)},r.a.createElement(V.a,{type:"file-add"}),r.a.createElement("span",null,n("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442"))),r.a.createElement(m.a,{key:"2",to:"/new/objects?lang=".concat(J)},r.a.createElement(V.a,{type:"edit"}),r.a.createElement("span",null,n("\u0412\u0441\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b")))]}),r.a.createElement(k.a.One,{entity:"type",name:"object",url:"/type/object",params:{extra:{expand:"selectAttributes",selects:"category_fond,significance_category,restoration_conservation"}},primaryKey:"model_type_id"},function(e){var n=e.item.selectAttributes;return r.a.createElement(k.a.One,{id:N,entity:"object",name:"object",url:"/new-objects/".concat(N),params:{include:"museum.department,fond,composition,image,keeper"},primaryKey:"id"},function(e){var a=e.item,i=e.isFetched,u=!0;return r.a.createElement(O.g,{spinning:!i},r.a.createElement("div",{className:"page-content page-content__transparent"},r.a.createElement("div",{style:{paddingBottom:20}},r.a.createElement(y.a,{activeKey:f,onChange:function(e){var n=d()(a,"translations");if(b()(n))z(e);else{var t=Object.values(n||{})[0];c.push("/new/object/update/".concat(d()(t,"model_item_id"),"?lang=").concat(e))}}},r.a.createElement(x,{key:"uz",tab:"O'zbek"}),r.a.createElement(x,{key:"ru",tab:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}))),B?r.a.createElement(q.a,{id:N,entity:"object",name:"all",url:"/new-objects/".concat(N),fields:[{name:"fulfilled",onSubmitValue:function(){return u?1:0}},{name:"title",required:!0,value:d()(a,"title")},{name:"museum_id",required:!0,value:d()(a,"museum"),onSubmitValue:function(e){return d()(e,"model_item_id")}},{name:"department_id",value:d()(a,["museum","department"]),onSubmitValue:function(e){return d()(e,"model_item_id")}},{name:"material",value:d()(a,["material"]),required:!0},{name:"kp",value:d()(a,["kp"]),required:!0},{name:"fullname",value:d()(a,["fullname"])},{name:"inv",value:d()(a,["inv"]),required:!0},{name:"negative_number",value:d()(a,["negative_number"])},{name:"collection_number",value:d()(a,["collection_number"])},{name:"dinasty",value:d()(a,["dinasty"])},{name:"inv_hash",value:d()(a,["inv_hash"])},{name:"collection_name",value:d()(a,["collection_name"])},{name:"ruler",value:d()(a,["ruler"])},{name:"nominal",value:d()(a,["nominal"])},{name:"serial_number",value:d()(a,["serial_number"])},{name:"source_income",value:d()(a,["source_income"])},{name:"register_number",value:d()(a,["register_number"])},{name:"circulation_period",value:d()(a,["circulation_period"])},{name:"equipment",value:d()(a,["equipment"]),required:!0},{name:"size",value:(d()(a,["size"],"")||"").split("|"),onSubmitValue:function(e){return e?e.join("|"):""}},{name:"object_sign",value:d()(a,["object_sign"])},{name:"exhibitions",value:d()(a,["exhibitions"])},{name:"comment",value:d()(a,["comment"])},{name:"images",value:Array.isArray(d()(a,"image"))?a.image.reduce(function(e,n){return[].concat(Object(t.a)(e),[{uid:n.id,url:d()(n,"link"),name:n.title}])},[]):[],onSubmitValue:function(e){return e&&e.reduce(function(e,n){return[].concat(Object(t.a)(e),[n.uid])},[]).join(",")}},{name:"storage",value:d()(a,["storage"])},{name:"restoration_conservation",value:1===d()(a,["restoration_conservation"])?"ba719e3e-bdad-11e9-a2ab-0007cb0b1d0c":"ba71a082-bdad-11e9-b935-0007cb0b1d0c",onSubmitValue:function(e){return"ba719e3e-bdad-11e9-a2ab-0007cb0b1d0c"===e?1:0}},{name:"keeper_id",value:d()(a,"keeper"),onSubmitValue:function(e){return d()(e,"model_item_id")}},{name:"category_fond",value:d()(a,"category_fond")},{name:"significance_category",value:d()(a,"significance_category")},{name:"country",value:d()(a,["country"])},{name:"count",value:d()(a,["count"]),required:!0},{name:"description",value:d()(a,["description"])},{name:"dating",value:d()(a,["dating"]),required:!0},{name:"dating_type",value:d()(a,["dating_type"])||1},{name:"notes",value:d()(a,["notes"])},{name:"insurance_cost",value:(d()(a,["insurance_cost"],"")||"").split("|"),onSubmitValue:function(e){return e?e.join("|"):""}},{name:"mint",value:d()(a,["mint"])},{name:"author",value:d()(a,["author"]),required:!0},{name:"used_literature",value:d()(a,["used_literature"])},{name:"stolen",value:d()(a,["stolen"])},{name:"production",value:d()(a,["production"])},{name:"keeping",value:d()(a,["keeping"])},{name:"fond_id",value:d()(a,["fond"]),onSubmitValue:function(e){return e?d()(e,"model_item_id"):null}},{name:"fond_composition_id",value:d()(a,"composition"),required:!0,onSubmitValue:function(e){return e?d()(e,"model_item_id"):null}}]},function(e){var a=e.isSubmitting,t=e.setFieldValue,l=e.values;return Object.keys(l).map(function(e){!l[e]&&b()(l[e])&&(u=!1)}),console.log(l.category_fond),r.a.createElement(O.g,{spinning:a},T({isSubmitting:a,setFieldValue:t,values:l,isFetched:i,forms:n}))}):r.a.createElement(q.a,{isCreate:!0,id:N,entity:"object",name:"all",url:"/new-objects",params:{extra:{_l:f}},onSuccess:function(e){c.push("/new/object/update/".concat(d()(e,"model_item_id"),"?lang=").concat(f))},fields:[{name:"fulfilled",onSubmitValue:function(){return u?1:0}},{name:"title",required:!0,value:d()(a,"title")},{name:"museum_id",required:!0,value:d()(a,"museum"),onSubmitValue:function(e){return d()(e,"model_item_id")}},{name:"department_id",value:d()(a,["museum","department"]),required:!0,onSubmitValue:function(e){return d()(e,"model_item_id")}},{name:"material",value:d()(a,["material"]),required:!0},{name:"kp",value:d()(a,["kp"]),required:!0},{name:"fullname",value:d()(a,["fullname"])},{name:"inv",value:d()(a,["inv"]),required:!0},{name:"negative_number",value:d()(a,["negative_number"])},{name:"collection_number",value:d()(a,["collection_number"])},{name:"dinasty",value:d()(a,["dinasty"])},{name:"inv_hash",value:d()(a,["inv_hash"])},{name:"collection_name",value:d()(a,["collection_name"])},{name:"ruler",value:d()(a,["ruler"])},{name:"nominal",value:d()(a,["nominal"])},{name:"serial_number",value:d()(a,["serial_number"])},{name:"source_income",value:d()(a,["source_income"])},{name:"register_number",value:d()(a,["register_number"])},{name:"circulation_period",value:d()(a,["circulation_period"])},{name:"equipment",value:d()(a,["equipment"]),required:!0},{name:"size",value:(d()(a,["size"],"")||"").split("|"),onSubmitValue:function(e){return e?e.join("|"):""}},{name:"object_sign",value:d()(a,["object_sign"])},{name:"exhibitions",value:d()(a,["exhibitions"])},{name:"comment",value:d()(a,["comment"])},{name:"images",value:Array.isArray(d()(a,"image"))?d()(a,"image",[]).reduce(function(e,n){return[].concat(Object(t.a)(e),[{uid:n.id,url:d()(n,"link"),name:n.title}])},[]):[],onSubmitValue:function(e){return e&&e.reduce(function(e,n){return[].concat(Object(t.a)(e),[n.uid])},[]).join(",")}},{name:"storage",value:d()(a,["storage"])},{name:"restoration_conservation",value:1===d()(a,["restoration_conservation"])?"ba719e3e-bdad-11e9-a2ab-0007cb0b1d0c":"ba71a082-bdad-11e9-b935-0007cb0b1d0c",onSubmitValue:function(e){return"ba719e3e-bdad-11e9-a2ab-0007cb0b1d0c"===e?1:0}},{name:"keeper_id",value:d()(a,"keeper"),onSubmitValue:function(e){return d()(e,"model_item_id")}},{name:"category_fond",value:d()(a,"category_fond")},{name:"significance_category",value:d()(a,"significance_category")},{name:"country",value:d()(a,["country"])},{name:"count",value:d()(a,["count"]),required:!0},{name:"description",value:d()(a,["description"])},{name:"dating",value:d()(a,["dating"]),required:!0},{name:"dating_type",value:d()(a,["dating_type"])||1},{name:"notes",value:d()(a,["notes"])},{name:"insurance_cost",value:(d()(a,["insurance_cost"],"")||"").split("|"),onSubmitValue:function(e){return e?e.join("|"):""}},{name:"mint",value:d()(a,["mint"])},{name:"author",value:d()(a,["author"]),required:!0},{name:"used_literature",value:d()(a,["used_literature"])},{name:"stolen",value:d()(a,["stolen"])},{name:"production",value:d()(a,["production"])},{name:"keeping",value:d()(a,["keeping"])},{name:"fond_id",value:d()(a,["fond"]),onSubmitValue:function(e){return e?d()(e,"model_item_id"):null}},{name:"fond_composition_id",value:d()(a,"composition"),required:!0,onSubmitValue:function(e){return e?d()(e,"model_item_id"):null}}]},function(e){var a=e.isSubmitting,t=e.setFieldValue,l=e.values;return Object.keys(l).map(function(e){!l[e]&&b()(l[e])&&(u=!1)}),r.a.createElement(O.g,{spinning:a},T({isSubmitting:a,setFieldValue:t,values:l,isFetched:i,forms:n}))})))})}))})}}]);
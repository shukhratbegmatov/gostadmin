(window.webpackJsonp=window.webpackJsonp||[]).push([[77,78],{1145:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t(4),i=t(125),c=t(0),l=t.n(c),o=t(73),s=t(90),u=t(159),m=t(975),d=t.n(m),b=t(14),p=t.n(b),f=t(1039),y=t(974),v=t(972),g=t(984),O=t(95),E=t(12),h=t(486),j=t(336),k=t(52),S=t(334),C=t(45),F=t(976),A=(t(337),t(187)),w=(t(1072),t(983));var x=Object(u.a)(C.g,Object(s.c)("main"))(function(e){var a=e.t,t=e.visible,n=e.onCancel,r=e.location,i=Object(o.d)(function(e){return e.system}),c=d.a.parse(r.search).lang,s=[{value:1,name:a("\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439")},{value:0,name:a("\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439")}];return l.a.createElement(v.a,{className:"",visible:t,onOk:function(){},onCancel:n,closable:!0,footer:null,destroyOnClose:!0},l.a.createElement("div",null,l.a.createElement("h2",null,a("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e")),l.a.createElement(w.a,{isCreate:!0,entity:"category",name:"media",url:"/media-category",params:{extra:{_l:c||i.language}},primaryKey:"id",loadEntity:!0,prependIds:!0,onSuccess:function(){return n()},fields:[{name:"title",required:!0},{name:"status",value:1},{name:"type",value:2}]},function(e){var t=e.isSubmitting;return e.values,e.setFieldValue,l.a.createElement(S.g,{spinning:t},l.a.createElement("div",{className:Object(A.a)("ant-form-item","m-b-10")},l.a.createElement("label",{className:"ant-label"},a("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"))),l.a.createElement(F.a,{component:S.c.AntInput,name:"title",type:"text",placeholder:a("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),hasFeedback:!0,autoFocus:!0}),l.a.createElement("div",{className:Object(A.a)("ant-form-item","m-b-10")},l.a.createElement("label",{className:"ant-label"},a("\u0421\u0442\u0430\u0442\u0443\u0441"))),l.a.createElement(F.a,{component:S.c.AntSelect,name:"status",placeholder:a("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"),selectOptions:s}),l.a.createElement(O.a,{type:"primary",htmlType:"submit"},a("\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))})))});var K=Object(u.a)(C.g,Object(s.c)("main"))(function(e){var a=e.t,t=(e.match,e.item),n=e.onCancel,r=e.visible,i=[{value:1,name:a("\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439")},{value:0,name:a("\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439")}];return l.a.createElement(v.a,{className:"",visible:r,onOk:function(){},onCancel:n,closable:!0,footer:null,destroyOnClose:!0},l.a.createElement("div",null,l.a.createElement("h2",null,a("\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e")),l.a.createElement(w.a,{id:p()(t,"id"),entity:"category",name:"media",url:"/media-category/".concat(p()(t,"id")),loadEntity:!0,primaryKey:"id",fields:[{name:"title",value:p()(t,"title"),required:!0},{name:"status",value:p()(t,"status")}]},function(e){var t=e.isSubmitting;return e.setFieldValue,e.values,l.a.createElement(S.g,{spinning:t},l.a.createElement(F.a,{component:S.c.AntInput,name:"title",type:"text",label:a("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),placeholder:a("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),hasFeedback:!0,autoFocus:!0}),l.a.createElement(F.a,{component:S.c.AntSelect,name:"status",label:a("\u0421\u0442\u0430\u0442\u0443\u0441"),placeholder:a("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"),selectOptions:i}),l.a.createElement(O.a,{type:"primary",htmlType:"submit"},a("\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")))})))}),V=f.a.TabPane;a.default=Object(u.a)(Object(s.c)("main"))(function(e){var a=e.t,t=e.location,s=e.history,u=Object(o.c)(),m=Object(o.d)(function(e){return e.system}),b=Object(c.useState)(!1),C=Object(i.a)(b,2),F=C[0],A=C[1],w=Object(c.useState)({}),I=Object(i.a)(w,2),N=I[0],P=I[1],T=Object(c.useState)({}),D=Object(i.a)(T,2),q=D[0],z=D[1],U=d.a.parse(t.search),_=U.page,J=U.lang,R=function(e){z(Object(r.a)(Object(r.a)({},q),{},Object(n.a)({},e,!0)))},B=function(e){z(Object(r.a)(Object(r.a)({},q),{},Object(n.a)({},e,!1)))},G=function(e){var a=d.a.parse(t.search),n=Object(r.a)(Object(r.a)({},a),{},{page:e});s.push({search:d.a.stringify(n)})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.d,{breadcrumbs:[{title:a("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),link:"/settings"},{title:a("\u041c\u0435\u0434\u0438\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),link:"/settings/media-categories"}]}),l.a.createElement(g.a,{title:a("C\u043f\u0438\u0441\u043e\u043a \u043c\u0435\u0434\u0438\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),extra:[l.a.createElement(O.a,{onClick:function(){P({}),R("create")}},l.a.createElement(E.a,{type:"file-add"}),l.a.createElement("span",null,a("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e")))]}),l.a.createElement(x,{onCancel:function(){return B("create")},visible:!!q.create}),l.a.createElement(K,{onCancel:function(){return B("update")},visible:!!q.update,item:N}),l.a.createElement("div",{className:"page-content"},l.a.createElement("div",{style:{padding:20}},l.a.createElement(f.a,{activeKey:J||m.language,onChange:function(e){var a=d.a.parse(t.search);a=Object(r.a)(Object(r.a)({},a),{},{lang:e});var n=d.a.stringify(a);s.push({search:n})}},l.a.createElement(V,{key:"uz",tab:"O'zbek"}),l.a.createElement(V,{key:"ru",tab:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}))),l.a.createElement("div",{className:"table-box"},l.a.createElement(j.a.All,{entity:"category",name:"media",url:"/media-category",dataKey:"data",primaryKey:"id",params:{limit:10,sort:"-id",page:_,extra:{_l:J||m.language}}},function(e){var t=e.items,n=e.isFetched,r=e.meta,i=void 0===r?{}:r;return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.g,{spinning:!n||F},l.a.createElement(S.h,{onEdit:function(e){var a=t[e];P(a),R("update")},onDelete:function(e){var n=t[e];!function(e){var t=e.title,n=e.onOk,r=void 0===n?function(){}:n,i=e.onCancel,c=void 0===i?function(){}:i;v.a.confirm({title:t,okText:a("\u0434\u0430"),okType:"danger",cancelText:a("\u043d\u0435\u0442"),onOk:r,onCancel:c})}({title:a("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e?"),onOk:function(){return function(e){A(!0),u(k.default.Delete.request({id:p()(e,"id"),entity:"category",name:"media",url:"/media-category/".concat(p()(e,"id")),params:{extra:{_l:J||m.language}},cb:{success:function(){y.a.success({message:a("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),duration:2})},error:function(){y.a.error({message:a("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"),duration:2})},finally:function(){A(!1)}}}))}(n)}})},pagination:!1,columns:[{title:"ID",dataIndex:"id",render:function(e,a){return p()(a,"id")}},{title:a("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),dataIndex:"title",render:function(e,a){return p()(a,"title")}},{title:a("\u0421\u0442\u0430\u0442\u0443\u0441"),dataIndex:"status",render:function(e,a){var t=!!p()(a,"status",0);return l.a.createElement("div",{className:"color-circle",style:{backgroundColor:t?"lightgreen":"red"}})}}],dataSource:t}),l.a.createElement("div",{className:"table-footer"},l.a.createElement(h.a,{current:i.currentPage,total:i.totalCount,onChange:G}),l.a.createElement("div",{className:"footer-actions"}))))}))))})},981:function(e,a,t){"use strict";var n=t(25),r=t(4),i=t(0),c=t.n(i),l=t(73),o=t(63),s=t(90),u=t(976),m=t(985),d=t(14),b=t.n(d),p=t(108),f=t.n(p),y=t(974),v=t(52),g=function(e){var a=e.children,t=e.handleSubmit,n=e.values,r=e.isSubmitting,i=e.setFieldValue,l=e.isValid,o=e.errors;return c.a.createElement("form",{onSubmit:t,autoComplete:"off"},a({handleSubmit:t,values:n,setFieldValue:i,isSubmitting:r,isValid:l,errors:o}))},O=Object(u.c)({enableReinitialize:!0,validationSchema:function(e){var a=e.fields,t=e.t;if(!f()(a))return m.object().shape({});var n={};return a.forEach(function(e){var a;switch(e.type){case"email":a=m.string().email(t("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email"));break;case"string":a=m.string().typeError(t("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0430"));break;case"object":a=m.object();break;case"number":a=m.number().typeError(t("\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"));break;case"array":a=m.array();break;case"boolean":a=m.boolean();break;case"date":a=m.date();break;default:a=m.string()}e.required&&(a=a.required(t("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"))),e.min&&(a=a.min(e.min,t("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e!"))),e.max&&(a=a.max(e.max,t("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043e\u043b\u0433\u043e!"))),a=a.nullable(),n[e.name]=a}),m.object().shape(n)},mapPropsToValues:function(e){var a=e.fields;return f()(a)?a.reduce(function(e,a){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.name,b()(a,"value","")))},{}):{}},handleSubmit:function(e,a){var t=a.props,n=a.setFieldError,i=a.setSubmitting,c=a.resetForm,l=t.fields,o=t.entity,s=t.name,u=t.id,m=t.url,d=t.params,b=t.isCreate,p=t.isDelete,f=t.loadEntity,v=t.primaryKey,g=t.CreateAction,O=t.appendIds,E=void 0!==O&&O,h=t.prependIds,j=void 0!==h&&h,k=t.DeleteAction,S=t.UpdateAction,C=t.valuesAsFormData,F=void 0===C||C,A=t.onSuccess,w=void 0===A?function(){}:A,x=t.onError,K=void 0===x?function(){}:x;e=Object(r.a)({},e),"function"===typeof m&&(m=m(Object(r.a)({},e))),l.forEach(function(a){a.hasOwnProperty("onSubmitValue")&&"function"===typeof a.onSubmitValue&&(a.hasOwnProperty("onSubmitKey")?(e[a.onSubmitKey]=a.onSubmitValue(e[a.name],e),delete e[a.name]):e[a.name]=a.onSubmitValue(e[a.name],e)),a.hasOwnProperty("optionTitle")&&a.hasOwnProperty("optionTitleKey")&&(e[a.optionTitle]=e[a.name][a.optionTitleKey]),a.hasOwnProperty("optionKey")&&a.hasOwnProperty("optionValue")&&(e[a.optionKey]=e[a.name][a.optionValue],delete e[a.name]),a.hasOwnProperty("disabled")&&delete e[a.name]});var V=e;F&&(V=new FormData,Object.keys(e).forEach(function(a){e[a]instanceof Array?e[a].forEach(function(e){V.append("".concat(a,"[]"),e)}):V.append(a,e[a])})),p?k({id:u,entity:o,name:s,url:m,params:d,values:V,cb:{success:function(){y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d",duration:2}),w({},{resetForm:c})},error:function(e){y.a.error({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",duration:2}),e instanceof Array?e.map(function(e){var a=e.field,t=e.message;n(a,t)}):e instanceof Object&&Object.keys(e).map(function(a){var t=e[a][0];n(a,t)}),K(e)},finally:function(){i(!1)}}}):b?g({entity:o,name:s,url:m,params:d,values:e,appendIds:E,prependIds:j,loadEntity:f,primaryKey:v,cb:{success:function(e){y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",duration:2}),w(e,{resetForm:c})},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y.a.error({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",duration:2}),e instanceof Array?e.map(function(e){var a=e.field,t=e.message;n(a,t)}):e instanceof Object&&Object.keys(e).map(function(a){var t=e[a][0];n(a,t)}),K()},finally:function(){i(!1)}}}):S({entity:o,name:s,url:m,id:u,params:d,values:e,loadEntity:f,primaryKey:v,cb:{success:function(e){y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e",duration:2}),w(e,{resetForm:c})},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y.a.error({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",duration:2}),e instanceof Array?e.map(function(e){var a=e.field,t=e.message;n(a,t)}):e instanceof Object&&Object.keys(e).map(function(a){var t=e[a][0];n(a,t)}),K()},finally:function(){i(!1)}}})}})(g);g.defaultProps={loadEntity:!0};a.a=Object(l.b)(null,function(e){return Object(o.bindActionCreators)({CreateAction:v.default.Create.request,UpdateAction:v.default.Update.request,DeleteAction:v.default.Delete.request},e)})(Object(s.c)("main")(O))},983:function(e,a,t){"use strict";var n=t(981);a.a=n.a}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1223:function(e,n,t){"use strict";t.r(n);var a,r,i=t(42),l=t(125),m=t(0),c=t.n(m),o=t(73),u=t(76),s=t(90),d=t(159),f=t(14),b=t.n(f),p=t(975),g=t.n(p),y=t(337),_=t.n(y),v=t(65),h=t.n(v),j=t(984),E=t(12),O=t(987),w=t(988),S=t(95),k=t(336),q=t(983),V=t(334),x=t(1069),z=t(1073),F=["svgRef"];function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function N(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var R=function(e){var n=e.svgRef,t=N(e,F);return c.a.createElement("svg",C({width:18,height:18.001,viewBox:"0 0 18 18.001",ref:n},t),a||(a=c.a.createElement("defs",null,c.a.createElement("style",null,"\n            .cls-1{fill:#1865ff;opacity:.8}\n        "))),r||(r=c.a.createElement("path",{id:"settings-filter",d:"M7.17 19H4a1 1 0 0 1 0-2h3.17a3 3 0 1 1 0 2zm10.66-8H20a1 1 0 0 1 0 2h-2.17a3 3 0 1 1 0-2zM15 13a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm-3-6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm-8 6a1 1 0 0 1 0-2h5a1 1 0 0 1 0 2zm6 6a1 1 0 1 0-1-1 1 1 0 0 0 1 1zM6 9a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm0-2a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm10 12a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z",className:"cls-1",transform:"translate(-3 -3)"})))},A=c.a.forwardRef(function(e,n){return c.a.createElement(R,C({svgRef:n},e))});t.p;n.default=Object(d.a)(Object(s.c)("main"))(function(e){var n=e.t,t=e.history,a=e.location,r=Object(o.d)(function(e){return b()(e,["auth","data"],{})}),s=Object(m.useState)(!1),d=Object(l.a)(s,2),f=d[0],p=d[1],y=g.a.parse(a.search).lang,v=Object(m.useState)(!1),F=Object(l.a)(v,2),C=F[0],N=F[1],R=h()(b()(r,["role","name"],""),"user");return c.a.createElement(c.a.Fragment,null,c.a.createElement(V.d,{breadcrumbs:[{title:n("\u041e\u0431\u044a\u0435\u043a\u0442\u044b"),link:"/new/objects"},{title:n("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442")}]}),c.a.createElement(j.a,{title:n("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442"),extra:[c.a.createElement(u.a,{key:"2",to:"/new/objects?lang=".concat(y)},c.a.createElement(E.a,{type:"edit"}),c.a.createElement("span",null,n("\u0412\u0441\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b")))]}),c.a.createElement(k.a.One,{entity:"type",name:"object",url:"/type/object",params:{extra:{expand:"selectAttributes",selects:"category_fond,significance_category,restoration_conservation"}},primaryKey:"model_type_id"},function(e){var a=e.item,l=e.isFetched,m=!0;return c.a.createElement(V.g,{spinning:!l},c.a.createElement("div",{className:"page-content page-content__transparent"},c.a.createElement(q.a,{isCreate:!0,entity:"object",name:"all",url:"/new-objects",params:{extra:{_l:y}},loadEntity:!1,appendIds:!0,primaryKey:"model_item_id",fields:[{name:"fulfilled",onSubmitValue:function(){return m?1:0}},{name:"title",required:!0},{name:"museum_id",required:!0,value:R?b()(r,"museum_id",{}):void 0,onSubmitValue:function(e){return b()(e,"model_item_id")}},{name:"material",required:!0},{name:"kp",required:!0},{name:"fullname"},{name:"inv",required:!0},{name:"collection_number"},{name:"dinasty"},{name:"inv_hash"},{name:"collection_name"},{name:"ruler"},{name:"nominal"},{name:"serial_number"},{name:"source_income"},{name:"register_number"},{name:"circulation_period"},{name:"equipment",required:!0},{name:"size",onSubmitValue:function(e){return e?e.join("|"):""}},{name:"object_sign"},{name:"exhibitions"},{name:"comment"},{name:"images",value:[],onSubmitValue:function(e){return e&&e.reduce(function(e,n){return[].concat(Object(i.a)(e),[n.uid])},[]).join(",")}},{name:"storage"},{name:"restoration_conservation",onSubmitValue:function(e){return"ba719e3e-bdad-11e9-a2ab-0007cb0b1d0c"===e?1:0}},{name:"keeper_id",onSubmitValue:function(e){return b()(e,"model_item_id")}},{name:"category_fond"},{name:"significance_category"},{name:"country"},{name:"count",required:!0},{name:"description"},{name:"dating",required:!0},{name:"dating_type",value:1},{name:"lang",value:"uz"===y?2:1},{name:"notes"},{name:"insurance_cost",onSubmitValue:function(e){return e?e.join("|"):""}},{name:"mint"},{name:"author",required:!0},{name:"used_literature"},{name:"stolen"},{name:"production"},{name:"keeping"},{name:"fond_id",required:!0,onSubmitValue:function(e){return b()(e,"model_item_id")}},{name:"fond_composition_id",onSubmitValue:function(e){return b()(e,"model_item_id")}}],onSuccess:function(e,n){var a=n.resetForm;f?(a({}),p(!1)):t.push("/new/objects?lang=".concat(y))}},function(e){var t=e.isSubmitting,r=e.values,i=e.errors,o=e.setFieldValue,u=e.handleSubmit,s=e.isValid;return console.log(i,"errors"),Object.keys(r).map(function(e){!r[e]&&_()(r[e])&&(m=!1)}),c.a.createElement(V.g,{spinning:t},c.a.createElement(x.a,{values:r,setFieldValue:o,isFetched:l,isSubmitting:t,forms:b()(a,"selectAttributes"),quickCreation:f,lang:y}),C&&c.a.createElement(z.a,{values:r,setFieldValue:o,isFetched:l,forms:b()(a,"selectAttributes")}),c.a.createElement(V.f,null,c.a.createElement(O.a,{gutter:24,type:"flex"},c.a.createElement(w.a,{lg:8},c.a.createElement(S.a,{loading:t&&f,name:"quick-create",className:"fs-14 fw-500",style:{marginRight:30},type:"primary",onClick:function(){s&&(p(!0),u())}},n("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0449\u0435")),c.a.createElement(S.a,{loading:t&&!f,name:"create",className:"fs-14 fw-500",htmlType:"submit",type:"primary"},n("\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))),c.a.createElement(w.a,{lg:16,style:{display:"flex",justifyContent:"flex-end"}},C?null:c.a.createElement(S.a,{htmlType:"button",className:"fs-16 fw-500",type:"link",onClick:function(){return N(!0)}},n("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e"),c.a.createElement(E.a,{component:A}))))))})))}))})},983:function(e,n,t){"use strict";var a=t(981);n.a=a.a}}]);
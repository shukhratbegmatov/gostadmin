(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1164:function(e,a,t){"use strict";t.r(a);var n=t(125),r=t(0),i=t.n(r),o=(t(73),t(76)),l=t(90),c=t(159),m=t(976),s=t(14),u=t.n(s),d=t(975),p=t.n(d),f=t(984),b=t(12),y=t(987),g=t(988),v=t(95),E=t(1068),h=t(187),O=t(1019),S=t.n(O),j=t(989),w=t(983),k=t(334);a.default=Object(c.a)(Object(l.c)("main"))(function(e){var a=e.t,t=e.history,r=e.location,l=p.a.parse(r.search).lang,c=[{value:1,name:a("\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439")},{value:0,name:a("\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439")}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.d,{breadcrumbs:[{title:a("\u041c\u0443\u0437\u0435\u0438"),link:"/museum-pages"},{title:a("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0443\u0437\u0435\u0439")}]}),i.a.createElement(f.a,{title:a("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0443\u0437\u0435\u0439"),extra:[i.a.createElement(o.a,{key:"2",to:"/museum-pages"},i.a.createElement(b.a,{type:"edit"}),i.a.createElement("span",null,a("\u0412\u0441\u0435 \u043c\u0443\u0437\u0435\u0438")))]}),i.a.createElement("div",{className:"page-content page-content__transparent"},i.a.createElement(w.a,{isCreate:!0,entity:"museumPage",name:"all",url:"/museum-pages",params:{extra:{_l:l}},loadEntity:!1,appendIds:!0,primaryKey:"id",fields:[{name:"title",required:!0},{name:"museum_id",required:!0,onSubmitValue:function(e){return u()(e,"model_item_id")}},{name:"latitude",value:41.311151,onSubmitValue:function(e){return e.toString()}},{name:"longitude",value:69.279737,onSubmitValue:function(e){return e.toString()}},{name:"phone",required:!0},{name:"web_site",required:!1},{name:"email",required:!1},{name:"content",required:!1},{name:"status",value:1}],onSuccess:function(e){t.push("/museum-page/update/".concat(e.id,"?lang=").concat(j.a[u()(e,"lang")]))}},function(e){var t=e.isSubmitting,r=e.values,o=e.setFieldValue;return i.a.createElement(k.g,{spinning:t},i.a.createElement(y.a,{gutter:20,type:"flex"},i.a.createElement(g.a,{className:"gutter-row",lg:16},i.a.createElement(k.f,{title:a("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")},i.a.createElement("div",{className:"ant-row ant-form-item m-b-0"},i.a.createElement("div",{className:"ant-label"},a("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"))),i.a.createElement(m.a,{component:k.c.AntInput,name:"title",type:"text",placeholder:a("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),hasFeedback:!0}),i.a.createElement("div",{className:"ant-row ant-form-item m-b-0"},i.a.createElement("div",{className:"ant-label"},a("\u0412\u0435\u0431-\u0441\u0430\u0439\u0442"))),i.a.createElement(m.a,{component:k.c.AntInput,name:"web_site",type:"text",placeholder:a("goskatalog.uz"),hasFeedback:!0}),i.a.createElement("div",{className:"ant-row ant-form-item m-b-0"},i.a.createElement("div",{className:"ant-label"},a("\u042d\u043b. \u0430\u0434\u0440\u0435\u0441"))),i.a.createElement(m.a,{component:k.c.AntInput,name:"email",type:"email",placeholder:a("example@gmail.com"),hasFeedback:!0}),i.a.createElement(m.a,{name:"phone",type:"text",render:function(e){var t=e.field,n=e.form,r=n.errors[t.name],o=n.touched[t.name],l=Object(h.a)("ant-form-item-control",o&&r&&"has-error");return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ant-row ant-form-item m-b-0"},i.a.createElement("div",{className:"ant-label"},a("\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"))),i.a.createElement("div",{className:"field-container"},i.a.createElement("div",{className:"ant-row ant-form-item"},i.a.createElement("div",{className:l},i.a.createElement("span",{className:"ant-form-item-children"},i.a.createElement(S.a,{className:"phone-input",displayType:"input",format:"### ## ### ## ##",value:t.value||"",placeholder:"998 99 123 45 67",onChange:function(e){var a=e.target;n.setFieldValue(t.name,a.value)},onBlur:function(){n.setFieldTouched(t.name,!0)}})),o&&r&&i.a.createElement("div",{className:"ant-form-explain"},r)))))}}),i.a.createElement(m.a,{component:k.c.CKEditor,name:"content",label:a("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435")}),i.a.createElement(E.g,null,i.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:"ant-row ant-form-item"},i.a.createElement("div",{className:"ant-label"},a("\u041c\u0435\u0441\u0442\u043e \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f")),i.a.createElement(E.c,{style:{width:"100%",minHeight:400},defaultState:{center:[41.311151,69.279737],zoom:6,controls:[]}},i.a.createElement(E.a,null),i.a.createElement(E.h,{options:{float:"right"}}),i.a.createElement(E.b,{options:{float:"left"}}),i.a.createElement(E.e,{options:{float:"right"}}),i.a.createElement(E.f,{options:{float:"right"}}),i.a.createElement(E.d,{options:{useMapMarginInDragging:!0,draggable:!0},geometry:[r.latitude,r.longitude],modules:["geoObject.addon.balloon","geoObject.addon.hint"],properties:{hintContent:a("\u041c\u0435\u0441\u0442\u043e \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f")},onDragEnd:function(e){var a=e.get("target").geometry.getCoordinates(),t=Object(n.a)(a,2),r=t[0],i=t[1];o("latitude",r),o("longitude",i)}})))),i.a.createElement(v.a,{type:"primary",htmlType:"submit"},a("\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))),i.a.createElement(g.a,{className:"gutter-row",lg:8},i.a.createElement(k.f,{title:a("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b")},i.a.createElement(m.a,{component:k.c.AsyncSelect,name:"museum_id",label:a("\u041c\u0443\u0437\u0435\u0438"),placeholder:a("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0443\u0437\u0435\u0439"),optionLabel:function(e){return u()(e,["item","title"])},optionValue:"model_item_id",loadOptionsUrl:"/items/search/result/museum",loadOptionsParams:function(e){return{extra:{_l:l,SearchForm:{s:e}}}},loadOptionsKey:"items",isSearchable:!0,isClearable:!0}),i.a.createElement(m.a,{component:k.c.AntSelect,name:"status",label:a("\u0421\u0442\u0430\u0442\u0443\u0441"),placeholder:a("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"),selectOptions:c})))))})))})},981:function(e,a,t){"use strict";var n=t(25),r=t(4),i=t(0),o=t.n(i),l=t(73),c=t(63),m=t(90),s=t(976),u=t(985),d=t(14),p=t.n(d),f=t(108),b=t.n(f),y=t(974),g=t(52),v=function(e){var a=e.children,t=e.handleSubmit,n=e.values,r=e.isSubmitting,i=e.setFieldValue,l=e.isValid,c=e.errors;return o.a.createElement("form",{onSubmit:t,autoComplete:"off"},a({handleSubmit:t,values:n,setFieldValue:i,isSubmitting:r,isValid:l,errors:c}))},E=Object(s.c)({enableReinitialize:!0,validationSchema:function(e){var a=e.fields,t=e.t;if(!b()(a))return u.object().shape({});var n={};return a.forEach(function(e){var a;switch(e.type){case"email":a=u.string().email(t("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email"));break;case"string":a=u.string().typeError(t("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0430"));break;case"object":a=u.object();break;case"number":a=u.number().typeError(t("\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"));break;case"array":a=u.array();break;case"boolean":a=u.boolean();break;case"date":a=u.date();break;default:a=u.string()}e.required&&(a=a.required(t("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"))),e.min&&(a=a.min(e.min,t("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e!"))),e.max&&(a=a.max(e.max,t("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043e\u043b\u0433\u043e!"))),a=a.nullable(),n[e.name]=a}),u.object().shape(n)},mapPropsToValues:function(e){var a=e.fields;return b()(a)?a.reduce(function(e,a){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.name,p()(a,"value","")))},{}):{}},handleSubmit:function(e,a){var t=a.props,n=a.setFieldError,i=a.setSubmitting,o=a.resetForm,l=t.fields,c=t.entity,m=t.name,s=t.id,u=t.url,d=t.params,p=t.isCreate,f=t.isDelete,b=t.loadEntity,g=t.primaryKey,v=t.CreateAction,E=t.appendIds,h=void 0!==E&&E,O=t.prependIds,S=void 0!==O&&O,j=t.DeleteAction,w=t.UpdateAction,k=t.valuesAsFormData,N=void 0===k||k,F=t.onSuccess,A=void 0===F?function(){}:F,V=t.onError,x=void 0===V?function(){}:V;e=Object(r.a)({},e),"function"===typeof u&&(u=u(Object(r.a)({},e))),l.forEach(function(a){a.hasOwnProperty("onSubmitValue")&&"function"===typeof a.onSubmitValue&&(a.hasOwnProperty("onSubmitKey")?(e[a.onSubmitKey]=a.onSubmitValue(e[a.name],e),delete e[a.name]):e[a.name]=a.onSubmitValue(e[a.name],e)),a.hasOwnProperty("optionTitle")&&a.hasOwnProperty("optionTitleKey")&&(e[a.optionTitle]=e[a.name][a.optionTitleKey]),a.hasOwnProperty("optionKey")&&a.hasOwnProperty("optionValue")&&(e[a.optionKey]=e[a.name][a.optionValue],delete e[a.name]),a.hasOwnProperty("disabled")&&delete e[a.name]});var C=e;N&&(C=new FormData,Object.keys(e).forEach(function(a){e[a]instanceof Array?e[a].forEach(function(e){C.append("".concat(a,"[]"),e)}):C.append(a,e[a])})),f?j({id:s,entity:c,name:m,url:u,params:d,values:C,cb:{success:function(){y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d",duration:2}),A({},{resetForm:o})},error:function(e){y.a.error({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",duration:2}),e instanceof Array?e.map(function(e){var a=e.field,t=e.message;n(a,t)}):e instanceof Object&&Object.keys(e).map(function(a){var t=e[a][0];n(a,t)}),x(e)},finally:function(){i(!1)}}}):p?v({entity:c,name:m,url:u,params:d,values:e,appendIds:h,prependIds:S,loadEntity:b,primaryKey:g,cb:{success:function(e){y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",duration:2}),A(e,{resetForm:o})},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y.a.error({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",duration:2}),e instanceof Array?e.map(function(e){var a=e.field,t=e.message;n(a,t)}):e instanceof Object&&Object.keys(e).map(function(a){var t=e[a][0];n(a,t)}),x()},finally:function(){i(!1)}}}):w({entity:c,name:m,url:u,id:s,params:d,values:e,loadEntity:b,primaryKey:g,cb:{success:function(e){y.a.success({message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e",duration:2}),A(e,{resetForm:o})},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y.a.error({message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",duration:2}),e instanceof Array?e.map(function(e){var a=e.field,t=e.message;n(a,t)}):e instanceof Object&&Object.keys(e).map(function(a){var t=e[a][0];n(a,t)}),x()},finally:function(){i(!1)}}})}})(v);v.defaultProps={loadEntity:!0};a.a=Object(l.b)(null,function(e){return Object(c.bindActionCreators)({CreateAction:g.default.Create.request,UpdateAction:g.default.Update.request,DeleteAction:g.default.Delete.request},e)})(Object(m.c)("main")(E))},983:function(e,a,t){"use strict";var n=t(981);a.a=n.a},989:function(e,a,t){"use strict";t.d(a,"a",function(){return n});var n={1:"ru",2:"uz",3:"en"}}}]);